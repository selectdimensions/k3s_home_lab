2025-06-16T19:47:54.170396 INFO   [main] [Bolt::Logger] Loaded project from '/home/boltuser/workspace/puppet'
2025-06-16T19:47:54.170894 DEBUG  [main] [Bolt::Logger] Analytics opt-out is set, analytics will be disabled
2025-06-16T19:47:54.172412 DEBUG  [main] [Bolt::Executor] Started with 100 max thread(s)
2025-06-16T19:47:54.173124 DEBUG  [main] [Bolt::PAL] Loading modules from /usr/local/bundle/gems/bolt-4.0.0/bolt-modules:/home/boltuser/workspace/puppet/site-modules:/home/boltuser/workspace/puppet/modules:/home/boltuser/workspace/puppet/.modules:/usr/local/bundle/gems/bolt-4.0.0/modules
2025-06-16T19:47:54.176766 DEBUG  [main] [Bolt::Inventory] Loaded inventory from /home/boltuser/workspace/inventory.yaml
2025-06-16T19:47:54.302709 INFO   [event-publisher] [Bolt::Outputter::Logger] Starting: task pi_cluster_automation::deploy_data_stack on pi-master
2025-06-16T19:47:54.341840 INFO   [exec-worker-1] [Bolt::Executor] Running task pi_cluster_automation::deploy_data_stack with '{"components":"all","namespace":"data-engineering","storage_class":"local-path","data_size":"20Gi","_task":"pi_cluster_automation::deploy_data_stack"}' on ["pi-master"]
2025-06-16T19:47:54.342615 DEBUG  [exec-worker-1] [Bolt::Transport::SSH] Running task 'pi_cluster_automation::deploy_data_stack' on pi-master
2025-06-16T19:47:54.347389 DEBUG  [exec-worker-1] [pi-master] Disabling use_agent in net-ssh: ssh-agent is not available
2025-06-16T19:47:59.115668 INFO   [exec-worker-1] [Bolt::Executor] {"target":"pi-master","action":"task","object":"pi_cluster_automation::deploy_data_stack","status":"success","value":{"_output":"🔄 Deploying data engineering stack: all\n📁 Namespace: data-engineering\n💾 Storage class: local-path\n📊 Data volume size: 20Gi\n📁 Creating namespace: data-engineering\nnamespace/data-engineering configured\n🗃️  Deploying MinIO...\nsecret/minio-credentials configured\npersistentvolumeclaim/minio-pvc unchanged\ndeployment.apps/minio unchanged\nservice/minio-api unchanged\nservice/minio-console unchanged\n✅ MinIO deployed\n🐘 Deploying PostgreSQL...\nsecret/postgresql-credentials configured\npersistentvolumeclaim/postgresql-pvc unchanged\ndeployment.apps/postgresql unchanged\nservice/postgresql unchanged\n✅ PostgreSQL deployed\n🌊 Deploying Apache NiFi...\npersistentvolumeclaim/nifi-pvc unchanged\ndeployment.apps/nifi configured\nservice/nifi unchanged\n✅ NiFi deployed\n⚡ Deploying Trino...\nconfigmap/trino-config unchanged\ndeployment.apps/trino unchanged\nservice/trino unchanged\n✅ Trino deployed\n⏳ Waiting for deployments to be ready...\ndeployment.apps/minio condition met\ndeployment.apps/postgresql condition met\ndeployment.apps/nifi condition met\ndeployment.apps/trino condition met\n\n✅ Data engineering stack deployed successfully!\n📊 Deployments:\nNAME         READY   UP-TO-DATE   AVAILABLE   AGE\nminio        1/1     1            1           7h37m\npostgresql   1/1     1            1           7h37m\nnifi         1/1     1            1           7h37m\ntrino        1/1     1            1           7h37m\n\n📊 Services:\nNAME            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)             AGE\nminio-api       ClusterIP   10.43.17.14     <none>        9000/TCP            7h37m\nminio-console   ClusterIP   10.43.188.129   <none>        9001/TCP            7h37m\npostgresql      ClusterIP   10.43.116.216   <none>        5432/TCP            7h37m\nnifi            ClusterIP   10.43.8.169     <none>        8080/TCP,8443/TCP   7h37m\ntrino           ClusterIP   10.43.162.244   <none>        8080/TCP            7h37m\n\n🌐 Access URLs (use kubectl port-forward):\n  MinIO Console: kubectl port-forward svc/minio-console 9001:9001 -n data-engineering\n  MinIO API: kubectl port-forward svc/minio-api 9000:9000 -n data-engineering\n  NiFi: kubectl port-forward svc/nifi 8080:8080 -n data-engineering\n  Trino: kubectl port-forward svc/trino 8080:8080 -n data-engineering\n  PostgreSQL: kubectl port-forward svc/postgresql 5432:5432 -n data-engineering\n\n📋 Default Credentials:\n  MinIO: admin / minio123!\n  NiFi: admin / nifi123456789!\n  PostgreSQL: dataeng / postgres123!\n"}}
2025-06-16T19:47:59.117398 INFO   [event-publisher] [Bolt::Outputter::Logger] Finished: task pi_cluster_automation::deploy_data_stack with 0 failures in 4.81 sec
