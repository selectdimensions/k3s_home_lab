2025-06-16T12:22:38.564176 INFO   [main] [Bolt::Logger] Loaded project from '/home/boltuser/workspace/puppet'
2025-06-16T12:22:38.564373 DEBUG  [main] [Bolt::Logger] Analytics opt-out is set, analytics will be disabled
2025-06-16T12:22:38.565640 DEBUG  [main] [Bolt::Executor] Started with 100 max thread(s)
2025-06-16T12:22:38.566194 DEBUG  [main] [Bolt::PAL] Loading modules from /usr/local/bundle/gems/bolt-4.0.0/bolt-modules:/home/boltuser/workspace/puppet/site-modules:/home/boltuser/workspace/puppet/modules:/home/boltuser/workspace/puppet/.modules:/usr/local/bundle/gems/bolt-4.0.0/modules
2025-06-16T12:22:38.568497 DEBUG  [main] [Bolt::Inventory] Loaded inventory from /home/boltuser/workspace/inventory.yaml
2025-06-16T12:22:38.657450 INFO   [event-publisher] [Bolt::Outputter::Logger] Starting: task pi_cluster_automation::cluster_overview on pi-master
2025-06-16T12:22:38.692767 INFO   [exec-worker-1] [Bolt::Executor] Running task pi_cluster_automation::cluster_overview with '{"include_pods":true,"include_services":true,"include_storage":true,"_task":"pi_cluster_automation::cluster_overview"}' on ["pi-master"]
2025-06-16T12:22:38.693426 DEBUG  [exec-worker-1] [Bolt::Transport::SSH] Running task 'pi_cluster_automation::cluster_overview' on pi-master
2025-06-16T12:22:38.697080 DEBUG  [exec-worker-1] [pi-master] Disabling use_agent in net-ssh: ssh-agent is not available
2025-06-16T12:22:41.465799 INFO   [exec-worker-1] [Bolt::Executor] {"target":"pi-master","action":"task","object":"pi_cluster_automation::cluster_overview","status":"success","value":{"_output":"üöÄ K3s Cluster Overview\n=======================\nüñ•Ô∏è  Node: pi-master\nüìÖ Date: Mon 16 Jun 08:22:39 EDT 2025\n\nüîß Cluster Information:\nK3s Version: k3s version v1.28.4+k3s1 (3f237230)\nKubernetes Version: Unknown\n\nüìä Node Status:\nNAME        STATUS   ROLES                  AGE   VERSION        INTERNAL-IP     EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION         CONTAINER-RUNTIME\npi-master   Ready    control-plane,master   8h    v1.28.4+k3s1   192.168.0.120   <none>        Debian GNU/Linux 12 (bookworm)   6.12.25+rpt-rpi-2712   containerd://1.7.7-k3s1\n\nüè† Namespaces:\nNAME               STATUS   AGE\nkube-system        Active   8h\nkube-public        Active   8h\nkube-node-lease    Active   8h\ndefault            Active   8h\nmonitoring         Active   15m\ndata-engineering   Active   12m\n\nüöÄ Deployments Overview:\nüìä Monitoring Stack (monitoring namespace):\nNAME           READY   UP-TO-DATE   AVAILABLE   AGE\nalertmanager   1/1     1            1           15m\nprometheus     1/1     1            1           15m\ngrafana        1/1     1            1           15m\n\nüìä Data Engineering Stack (data-engineering namespace):\nNAME         READY   UP-TO-DATE   AVAILABLE   AGE\nminio        1/1     1            1           12m\npostgresql   1/1     1            1           12m\ntrino        1/1     1            1           12m\nnifi         1/1     1            1           12m\n\nüîß System Deployments:\nNAME                     READY   UP-TO-DATE   AVAILABLE   AGE\nlocal-path-provisioner   1/1     1            1           8h\ncoredns                  1/1     1            1           8h\nmetrics-server           1/1     1            1           8h\n\nüê≥ Pod Status by Namespace:\n  System Pods (kube-system):\nNAME                                      READY   STATUS    RESTARTS   AGE   IP          NODE        NOMINATED NODE   READINESS GATES\nlocal-path-provisioner-84db5d44d9-75kbm   1/1     Running   0          8h    10.42.0.4   pi-master   <none>           <none>\ncoredns-6799fbcd5-ltsx2                   1/1     Running   0          8h    10.42.0.3   pi-master   <none>           <none>\nmetrics-server-67c658944b-4wtqz           1/1     Running   0          8h    10.42.0.2   pi-master   <none>           <none>\n\n  Monitoring Pods:\nNAME                            READY   STATUS    RESTARTS   AGE   IP              NODE        NOMINATED NODE   READINESS GATES\nnode-exporter-h8djh             1/1     Running   0          15m   192.168.0.120   pi-master   <none>           <none>\nalertmanager-5f6cb89d66-tlkpc   1/1     Running   0          15m   10.42.0.5       pi-master   <none>           <none>\nprometheus-76d687f5cb-wpk79     1/1     Running   0          15m   10.42.0.9       pi-master   <none>           <none>\ngrafana-6745d67fb7-z9sch        1/1     Running   0          15m   10.42.0.8       pi-master   <none>           <none>\n\n  Data Engineering Pods:\nNAME                          READY   STATUS    RESTARTS   AGE   IP           NODE        NOMINATED NODE   READINESS GATES\nminio-674bcff6bb-66cq4        1/1     Running   0          12m   10.42.0.14   pi-master   <none>           <none>\npostgresql-68d6fbfd66-fkvkx   1/1     Running   0          12m   10.42.0.16   pi-master   <none>           <none>\ntrino-7df98d7946-s9pr8        1/1     Running   0          12m   10.42.0.13   pi-master   <none>           <none>\nnifi-5d5544bc7c-t7lk7         1/1     Running   0          12m   10.42.0.15   pi-master   <none>           <none>\n\nüåê Services Overview:\n  All Services:\nNAMESPACE          NAME             TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                  AGE\ndefault            kubernetes       ClusterIP   10.43.0.1       <none>        443/TCP                  8h\nkube-system        kube-dns         ClusterIP   10.43.0.10      <none>        53/UDP,53/TCP,9153/TCP   8h\nkube-system        metrics-server   ClusterIP   10.43.135.181   <none>        443/TCP                  8h\nmonitoring         prometheus       ClusterIP   10.43.19.185    <none>        9090/TCP                 15m\nmonitoring         alertmanager     ClusterIP   10.43.121.222   <none>        9093/TCP                 15m\nmonitoring         grafana          ClusterIP   10.43.229.175   <none>        3000/TCP                 15m\ndata-engineering   minio-api        ClusterIP   10.43.17.14     <none>        9000/TCP                 12m\ndata-engineering   minio-console    ClusterIP   10.43.188.129   <none>        9001/TCP                 12m\ndata-engineering   postgresql       ClusterIP   10.43.116.216   <none>        5432/TCP                 12m\ndata-engineering   nifi             ClusterIP   10.43.8.169     <none>        8080/TCP,8443/TCP        12m\ndata-engineering   trino            ClusterIP   10.43.162.244   <none>        8080/TCP                 12m\n\nüíæ Storage Information:\n  Persistent Volumes:\nNAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                             STORAGECLASS   REASON   AGE\npvc-226125c5-93b7-49dd-97c5-28474fd7130d   5Gi        RWO            Delete           Bound    monitoring/grafana-pvc            local-path              15m\npvc-259109c9-6e9d-4557-9588-f6589670cd19   10Gi       RWO            Delete           Bound    monitoring/prometheus-pvc         local-path              15m\npvc-d1cf3924-eaa7-440b-98a0-bcff7bd6189f   20Gi       RWO            Delete           Bound    data-engineering/minio-pvc        local-path              12m\npvc-ef28729b-3a93-41cf-a7f2-48b4c4f32c9f   20Gi       RWO            Delete           Bound    data-engineering/nifi-pvc         local-path              12m\npvc-ac6faa73-33e2-4de9-834d-80e703fe17ec   20Gi       RWO            Delete           Bound    data-engineering/postgresql-pvc   local-path              12m\n\n  Persistent Volume Claims:\nNAMESPACE          NAME             STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\nmonitoring         grafana-pvc      Bound    pvc-226125c5-93b7-49dd-97c5-28474fd7130d   5Gi        RWO            local-path     15m\nmonitoring         prometheus-pvc   Bound    pvc-259109c9-6e9d-4557-9588-f6589670cd19   10Gi       RWO            local-path     15m\ndata-engineering   minio-pvc        Bound    pvc-d1cf3924-eaa7-440b-98a0-bcff7bd6189f   20Gi       RWO            local-path     12m\ndata-engineering   nifi-pvc         Bound    pvc-ef28729b-3a93-41cf-a7f2-48b4c4f32c9f   20Gi       RWO            local-path     12m\ndata-engineering   postgresql-pvc   Bound    pvc-ac6faa73-33e2-4de9-834d-80e703fe17ec   20Gi       RWO            local-path     12m\n\nüíª System Resources:\n  Memory: 3.2Gi/7.9Gi\n  Disk: 11G/116G (10% used)\n  Load: 0.22 0.41 0.50\n  Uptime: up 15 hours, 45 minutes\n\nüîç Service Health Check:\n  ‚úÖ K3s server: Running\n  ‚úÖ Docker: Running\n  ‚úÖ Kubernetes API: Responsive\n\nüìù Recent Cluster Events (last 10):\ndata-engineering   11m         Normal    Pulled                  pod/trino-7df98d7946-s9pr8                                       Successfully pulled image \"trinodb/trino:435\" in 56.745s (56.745s including waiting)\ndata-engineering   11m         Normal    Created                 pod/trino-7df98d7946-s9pr8                                       Created container trino\ndata-engineering   11m         Normal    Started                 pod/trino-7df98d7946-s9pr8                                       Started container trino\ndata-engineering   10m         Warning   Unhealthy               pod/postgresql-68d6fbfd66-fkvkx                                  Liveness probe failed: command \"/bin/sh -c exec pg_isready -U \\\"$POSTGRES_USER\\\" -h 127.0.0.1 -p 5432\" timed out\ndata-engineering   10m         Warning   Unhealthy               pod/postgresql-68d6fbfd66-fkvkx                                  Readiness probe failed: command \"/bin/sh -c exec pg_isready -U \\\"$POSTGRES_USER\\\" -h 127.0.0.1 -p 5432\" timed out\ndata-engineering   10m         Normal    Pulled                  pod/nifi-5d5544bc7c-t7lk7                                        Successfully pulled image \"apache/nifi:1.24.0\" in 1m58.415s (1m58.415s including waiting)\ndata-engineering   10m         Normal    Created                 pod/nifi-5d5544bc7c-t7lk7                                        Created container nifi\ndata-engineering   10m         Normal    Started                 pod/nifi-5d5544bc7c-t7lk7                                        Started container nifi\nkube-system        112s        Warning   DNSConfigForming        pod/coredns-6799fbcd5-ltsx2                                      Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 8.8.8.8 1.1.1.1 192.168.0.1\nmonitoring         49s         Warning   DNSConfigForming        pod/node-exporter-h8djh                                          Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 8.8.8.8 1.1.1.1 192.168.0.1\n\nüîó Quick Access Commands:\n\n  Prometheus:\n    kubectl port-forward svc/prometheus 9090:9090 -n monitoring\n  Grafana:\n    kubectl port-forward svc/grafana 3000:3000 -n monitoring\n  MinIO Console:\n    kubectl port-forward svc/minio-console 9001:9001 -n data-engineering\n  NiFi:\n    kubectl port-forward svc/nifi 8080:8080 -n data-engineering\n\n‚úÖ Cluster overview complete\n"}}
2025-06-16T12:22:41.467247 INFO   [event-publisher] [Bolt::Outputter::Logger] Finished: task pi_cluster_automation::cluster_overview with 0 failures in 2.81 sec
